\newenvironment{diagram}[1][]{\begin{center}\begin{tikzpicture}[#1]}{\end{tikzpicture}\end{center}}
\renewcommand{\d}{\textrm{d}}
\newcommand{\D}{\partial}
\newcommand{\ds}{\d s}
\newcommand{\dv}{\d v}
\newcommand{\dw}{\d w}
\newcommand{\dx}{\d x}
\newcommand{\dy}{\d y}
\newcommand{\dz}{\d z}
\newcommand{\DS}{\D S}
\newcommand{\DV}{\D V}
\newcommand{\DW}{\D W}
\newcommand{\DX}{\D X}
\newcommand{\DY}{\D Y}
\newcommand{\DZ}{\D Z}
\newcommand{\ONE}{\mbox{\bf{1}}}
\newcommand{\init}{\mathit{init}}
\newcommand{\partialto}{\rightharpoonup}
\newcommand{\ml}[1]{\mathsf{#1}}
\newcommand{\mlleft}[1]{\ml{left}(#1)}
\newcommand{\mlright}[1]{\ml{right}(#1)}
\newcommand{\mlstay}{\ml{stay}}
\newcommand{\mlswitch}{\ml{switch}}
\newcommand{\mlstayl}[1]{\mlstay_L(#1)}
\newcommand{\mlswitchll}[1]{\mlswitch_{LL}(#1)}
\newcommand{\mlswitchlr}[1]{\mlswitch_{LR}(#1)}
\newcommand{\mlswitchrl}[1]{\mlswitch_{RL}(#1)}
\newcommand{\mlswitchrr}[1]{\mlswitch_{RR}(#1)}
\newcommand{\mlstayr}[1]{\mlstay_R(#1)}
\newcommand{\dputr}{\mathord{\Rrightarrow}}
\newcommand{\dputl}{\mathord{\Lleftarrow}}
\usetikzlibrary{calc,matrix,positioning}
